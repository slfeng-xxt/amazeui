## 五子棋实现


### 项目结构

以下是五子棋实现的主要目录及重要文件。

为了方便，直接用的手上现成的一个git repo实现的，采用react + dva, 工具使用了create-react-app。

里边包含了简单的storybook, storyhots的配置(与该项目无关)。
```
+------- src  // 源代码目录
          +-----  index.js // 入口js文件， 暂时model也在里边嵌入着，未单独抽离出去
          |-----  App.js   // 容器组件， 里边通过版本切换dom实现和canvas实现
          |-----  utils    // 工具函数目录， 判断胜利条件的在checkWin.js中, canvas相关的简单包装了两个工具方法在canvas.js中，用于绘制棋盘和落子位置的
          |-----  stories  // 组件和storybook的整合，这里尚未调整
                  +-----   CanvasChess.js  // canvas版本实现
                  +-----   SVGChess.js     // dom版本实现
|------- scripts // 执行npm start, npm run build的脚本
|------- config  // 自定义webpack配置目录
|------- ...
```


### 重要实现细节介绍

1) dom版本实现
为了实现简便起见，使用了点击小圆点进行着棋子的操作。这点后面需要改进。

2) 胜利条件检查
检查原则: 横向、竖向、左对角线、右对角线

四种验证的算法原理一样，以当前点找临近的左、右或上、下点是否为同一颜色，并为之计数。 连续超过5个的就算胜利。

具体代码在utils/checkWin.js

3) 悔棋和撤销悔棋实现
这点用了两个栈存储着子的信息和悔棋的信息。

悔棋之后，重新着子之后， 清空悔棋栈。

4) canvas实现
采用clearRect的方式实现，在着子、悔棋以及撤销悔棋的操作中，都更新state, 然后clear原画布，然后重绘。

## 总结

这个测试，非常有趣，因为之前没有玩过五子棋，所以参考了百度“五子棋”内容，这里实现15行15列棋盘，至于游戏规则也是从上面了解到。

还有文档中的“着”从百度中引用， 其实我也不太清楚为啥这么叫， 但不知道该如何叫。见谅了。

实现比较粗糙，后续还会持续更新过来， 大概花了1天多点时间完成。


另外这个demo已经build到线上， 访问链接http://www.mh611.com/
